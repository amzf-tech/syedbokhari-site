---
import BaseLayout from "../layouts/BaseLayout.astro";
const pathname = Astro.url.pathname;

const title = "NDIS Referral Form | Syed Bokhari | ID: P1636047";
const description =
  "Submit a referral for NDIS Positive Behaviour Support. Immediate capacity for Functional Behaviour Assessments and PBS Plans by a Suitable Practitioner.";
---

<BaseLayout title={title} pathname={pathname} description={description}>
  <!-- HEADER -->
  <section class="referral-header">
    <div class="container">
      <p class="kicker">NDIS Intake • Practitioner ID: P1636047</p>
      <h1 class="h1">New Participant Referral</h1>
      <p class="subtitle">
        Secure intake for Support Coordinators, providers, and families. All information is handled in accordance with NDIS privacy and data protection requirements.
      </p>

      <div class="download-referral">
        <a href="/Syed_Bokhari_Full_Referral_Form.pdf" target="_blank" rel="noopener" class="btn btn-outline">
          Download Referral Form (PDF)
        </a>
      </div>
    </div>
  </section>

  <!-- REFERRAL FORM SECTION -->
  <section class="referral-section">
    <div class="container">
      <div class="referral-grid">

        <!-- FORM -->
        <div class="form-container">
          <div class="card">
            <form action="https://formspree.io/f/mykegzwn" method="POST" class="intake-form">
              <input type="hidden" name="_subject" value="New Referral Submission" />
              <input type="hidden" name="_next" value="https://syedbokhari.com.au/thank-you" />

              <!-- PARTICIPANT INFO -->
              <h2 class="form-section-title">1. Participant Information</h2>

              <div class="form-row">
                <div class="form-group">
                  <label for="p-name">Participant Name</label>
                  <input type="text" name="Participant Name" id="p-name" required placeholder="Full Name" />
                </div>

                <div class="form-group">
                  <label for="p-age">Age</label>
                  <input type="number" name="Participant Age" id="p-age" required placeholder="Years" />
                </div>
              </div>

              <div class="form-group">
                <label for="suburb">Location (Suburb & Postcode)</label>
                <input type="text" name="Location" id="suburb" required placeholder="e.g. Tarneit, VIC 3029" />
              </div>

              <div class="form-group">
                <label for="funding">NDIS Funding Management</label>
                <select name="Funding Type" id="funding" required>
                  <option value="" disabled selected>Select an option</option>
                  <option value="Plan Managed">Plan Managed</option>
                  <option value="Self Managed">Self Managed</option>
                  <option value="NDIA Managed">NDIA Managed (Suitable Practitioner Required)</option>
                </select>
              </div>

              <div class="form-group">
                <label for="rrp">Are there Regulated Restrictive Practices in place?</label>
                <select name="Restrictive Practices" id="rrp">
                  <option value="Unknown">Not Sure / Unknown</option>
                  <option value="Yes">Yes (Requires compliance review)</option>
                  <option value="No">No</option>
                </select>
              </div>

              <div class="form-group">
                <label for="behaviours">Primary Goals / Behaviours of Concern</label>
                <textarea name="Behaviours or Goals" id="behaviours" rows="4" placeholder="Briefly describe the support needed..."></textarea>
              </div>

              <hr class="divider" />

              <!-- REFERRER INFO -->
              <h2 class="form-section-title">2. Referrer Details</h2>

              <div class="form-group">
                <label for="r-name">Your Name</label>
                <input type="text" name="Referrer Name" id="r-name" required placeholder="Full Name" />
              </div>

              <div class="form-group">
                <label for="r-role">Your Role</label>
                <input type="text" name="Referrer Role" id="r-role" required placeholder="e.g. Support Coordinator, Parent, Plan Manager" />
              </div>

              <div class="form-group">
                <label for="r-email">Your Email Address</label>
                <input type="email" name="_replyto" id="r-email" required placeholder="email@example.com" />
              </div>

              <button type="submit" class="btn btn-primary full-width btn-large">Submit Referral</button>

              <p class="privacy-note">
                Secure submission. Data is encrypted and sent directly to <strong>referrals@syedbokhari.com.au</strong>.
              </p>
            </form>
          </div>
        </div>

        <!-- SIDEBAR -->
        <div class="sidebar">
          <div class="sticky-sidebar">

            <div class="card highlight-card">
              <h3>Direct Case Discussion</h3>
              <p>Support Coordinators can book a 20‑minute case discussion to confirm suitability and next steps.</p>
              <a href="https://calendly.com/syed-syedbokhari/30min" target="_blank" class="btn btn-outline full-width">
                Book Consultation Call
              </a>
            </div>

            <div class="info-box">
              <h4>Current Intake Status</h4>
              <p>✅ <strong>Immediate Capacity</strong> for:</p>
              <ul>
                <li>Functional Behaviour Assessments (FBA)</li>
                <li>Comprehensive PBS Plans</li>
                <li>Restrictive Practice Reviews</li>
              </ul>
              <p><em>Serving Melbourne West & Telehealth Australia‑wide.</em></p>
            </div>

            <div class="download-box">
              <h4>Referral Resources</h4>
              <a href="/Syed_Bokhari_Full_Referral_Form.pdf" target="_blank" rel="noopener" class="text-link">
                Download Referral Form (PDF) →
              </a>
              <a href="/profile.pdf" target="_blank" rel="noopener" class="text-link">
                Download Practitioner Profile (PDF) →
              </a>
            </div>

          </div>
        </div>

      </div>
    </div>
  </section>
</BaseLayout>

<style>
  :root {
    --primary: #1a365d;
    --secondary: #2c7a7b;
    --border: #e2e8f0;
    --text: #334155;
    --muted: #64748b;
  }

  .referral-header {
    background: #f8fafc;
    padding: 5rem 0 3rem;
    text-align: center;
    border-bottom: 1px solid var(--border);
  }

  .kicker {
    color: var(--secondary);
    font-weight: bold;
    text-transform: uppercase;
    margin-bottom: 1rem;
  }

  .download-referral {
    margin-top: 1.5rem;
  }

  .referral-section {
    padding: 4rem 0;
    background: #fff;
  }

  .referral-grid {
    display: grid;
    grid-template-columns: 1.2fr 0.8fr;
    gap: 3rem;
    align-items: start;
  }

  .card {
    background: white;
    padding: 2.5rem;
    border-radius: 16px;
    border: 1px solid var(--border);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }

  .form-section-title {
    font-size: 1.25rem;
    margin-bottom: 1.5rem;
    color: var(--primary);
    border-bottom: 2px solid #eff6ff;
    padding-bottom: 0.5rem;
    font-weight: 700;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 0.4fr;
    gap: 1.5rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text);
  }

  input,
  select,
  textarea {
    width: 100%;
    padding: 0.85rem;
    border: 1px solid #cbd5e1;
    border-radius: 8px;
    font-size: 1rem;
    transition: all 0.2s;
  }

  input:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 3px rgba(44, 122, 123, 0.1);
  }

  .btn {
    padding: 1rem;
    border-radius: 8px;
    font-weight: 700;
    text-decoration: none;
    display: block;
    text-align: center;
    cursor: pointer;
    border: none;
    font-size: 1rem;
  }

  .btn-primary {
    background: var(--primary);
    color: white;
  }

  .btn-outline {
    border: 2px solid var(--primary);
    color: var(--primary);
    background: transparent;
  }

  .full-width {
    width: 100%;
  }

  .divider {
    margin: 2rem 0;
    border: 0;
    border-top: 1px solid var(--border);
  }

  .privacy-note {
    margin-top: 1.5rem;
    font-size: 0.85rem;
    color: var(--muted);
    text-align: center;
  }

  .sticky-sidebar {
    position: sticky;
    top: 40px;
  }

  .highlight-card {
    background: #f8fafc;
    border: 2px solid var(--secondary);
    margin-bottom: 2rem;
  }

  .info-box {
    padding: 1.5rem;
    background: #f0fdfa;
    border-radius: 12px;
    font-size: 0.95rem;
    color: #134e4a;
    border: 1px solid #ccfbf1;
    margin-bottom: 2rem;
  }

  .info-box h4 {
    margin-bottom: 0.5rem;
    color: var(--secondary);
  }

  .download-box {
    padding: 1.5rem;
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid var(--border);
  }

  .text-link {
    display: block;
    margin-top: 0.5rem;
    color: var(--secondary);
    font-weight: 600;
    text-decoration: none;
  }

  .text-link:hover {
    text-decoration: underline;
  }

  @media (max-width: 992px) {
    .referral-grid {
      grid-template-columns: 1fr;
    }

    .sticky-sidebar {
      position: static;
    }

    .form-row {
      grid-template-columns: 1fr;
    }
  }
</style>