---
import BaseLayout from "../../layouts/BaseLayout.astro";

/* ------------------------------------------------------------------ */
/* 1.  getStaticPaths – Updated for Registered Status                */
/* ------------------------------------------------------------------ */
export async function getStaticPaths() {
  const posts = {
    'why-work-with-a-registered-practitioner': {
      title: 'The Importance of Working with a Registered Behaviour Support Practitioner',
      description: 'Learn how NDIS registration ensures clinical accountability, safety, and higher standards of care in Positive Behaviour Support.',
      category: 'Clinical Standards',
      date: '2026-01-20',
      readTime: '5 min read',
      tags: ['NDIS Commission', 'Registration', 'Quality Assurance'],
      content: `
        <h2>Transitioning to Registered Status</h2>
        <p>In the NDIS ecosystem, the transition from being a supervised practitioner to a <strong>Registered Behaviour Support Practitioner</strong> marks a commitment to the highest level of clinical accountability. This registration is governed by the NDIS Quality and Safeguards Commission.</p>

        <h2>What Registration Means for Participants</h2>
        <p>Working with a registered practitioner provides several layers of protection and quality assurance:</p>

        <h3>1. Evidence-Based Clinical Oversight</h3>
        <p>Registered practitioners are assessed against the NDIS Capability Framework. This ensures that the professional supporting you has the demonstrated skills to conduct Functional Behaviour Assessments (FBA) and develop comprehensive Behaviour Support Plans (BSP).</p>

        <h3>2. Ethical Reduction of Restrictive Practices</h3>
        <p>A primary goal of a registered practitioner is the oversight and ethical reduction of restrictive practices. We work to replace these with proactive, person-centred strategies that uphold the participant's human rights.</p>

        <h3>3. Direct Accountability</h3>
        <p>Registered practitioners have a direct reporting line to the NDIS Commission. This means all plans are developed under strict adherence to the <em>National Disability Insurance Scheme (Restrictive Practices and Behaviour Support) Rules 2018</em>.</p>

        <h2>How It Changes Your Support</h2>
        <p>While the person-centred approach remains the same, the "Registered" status provides families and Support Coordinators with peace of mind that the practitioner is recognized as competent by the national governing body.</p>
      `
    },
    'functional-behaviour-assessment-process': {
      title: 'Understanding the Functional Behaviour Assessment Process',
      description: 'A comprehensive guide to FBA - the foundation of effective, evidence-based behaviour support.',
      category: 'Clinical Assessment',
      date: '2025-12-20',
      readTime: '7 min read',
      tags: ['Assessment', 'FBA', 'Data-Driven'],
      content: `
        <h2>What is Functional Behaviour Assessment (FBA)?</h2>
        <p>An FBA is a systematic process for understanding the 'why' behind behaviours of concern. As a Registered Practitioner, I use data-driven methods to identify triggers and the functions of behaviour.</p>

        <h2>The FBA Steps</h2>
        <h3>1. Stakeholder Interviews</h3>
        <p>Collaborating with the participant, family, and support team to gather history and context.</p>
        <h3>2. Direct Observation</h3>
        <p>Seeing the participant in their natural environment to identify environmental precursors.</p>
        <h3>3. Data Analysis</h3>
        <p>Using clinical tools to determine if the behaviour is for communication, sensory needs, or escape/tangible outcomes.</p>
      `
    }
    // Add other posts here...
  };

  return Object.keys(posts).map(slug => ({
    params: { slug },
    props: { posts, slug }
  }));
}

/* ------------------------------------------------------------------ */
/* 2.  Receive props passed from getStaticPaths                      */
/* ------------------------------------------------------------------ */
const { posts, slug } = Astro.props;
const post = posts[slug];
if (!post) return Astro.redirect('/404');

const pathname = Astro.url.pathname;
const formattedDate = new Date(post.date).toLocaleDateString('en-AU', {
  year: 'numeric', month: 'long', day: 'numeric'
});
const relatedPosts = Object.values(posts)
  .filter(p => p !== post)
  .slice(0, 3);
---

<BaseLayout title={`${post.title} | Syed Bokhari`} pathname={pathname} description={post.description}>
  <article class="blog-post">
    <header class="article-header">
      <div class="container">
        <div class="article-meta">
          <span class="article-category">{post.category}</span>
          <span class="article-date">{formattedDate}</span>
          <span class="article-read-time">{post.readTime}</span>
        </div>
        <h1 class="article-title">{post.title}</h1>
        <div class="article-tags">
          {post.tags.map(tag => (
            <span class="tag">{tag}</span>
          ))}
        </div>
      </div>
    </header>

    <div class="article-content">
      <div class="container">
        <div class="content-wrapper">
          <div class="post-content" set:html={post.content} />

          <div class="author-bio">
            <div class="bio-header">
              <h3>Clinical Lead</h3>
            </div>
            <div class="bio-content">
              <div class="bio-photo">
                <img src="/images/headshot.jpg" alt="Syed Bokhari" />
              </div>
              <div class="bio-text">
                <h4>Syed Bokhari</h4>
                <p class="bio-title">Registered NDIS Behaviour Support Practitioner</p>
                <p class="bio-description">
                  Specialising in evidence-based Positive Behaviour Support (PBS) and 
                  comprehensive Functional Behaviour Assessments. Committed to improving 
                  quality of life through ethical, person-centred practice.
                </p>
                <div class="bio-links">
                  <a href="/about">My Practice →</a>
                  <a href="/contact">Refer a Participant →</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </article>

  </BaseLayout>

<style>
  /* Reuse the styles from your previous file but ensure 
     the .author-bio matches the professional theme */
  .author-bio {
    border-left: 4px solid #2563eb;
    background: #f8fafc;
    border-radius: 0 16px 16px 0;
    padding: 2.5rem;
    margin: 4rem 0;
  }
  .bio-title {
    color: #1e40af;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 0.05em;
  }
</style>