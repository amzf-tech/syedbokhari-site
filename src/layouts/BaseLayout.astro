---
const {
  title = "Syed Bokhari | NDIS Suitable Behaviour Support Practitioner",
  description = "Official NDIS Suitable Behaviour Support Practitioner (ID: P1636047). Specializing in Functional Behaviour Assessment (FBA) and clinical PBS plans in Melbourne West.",
  pathname = "/",
} = Astro.props;

// Active nav helper
const currentPath = pathname.replace(/\/+$/, "");
const isActive = (path) => currentPath === path || currentPath.startsWith(path);

// Absolute URL
const fullUrl = `https://syedbokhari.com.au${pathname}`;
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content={description} />
    <title>{title}</title>

    <!-- Canonical -->
    <link rel="canonical" href={fullUrl} />

    <!-- Favicon -->
    <link rel="icon" href="/images/favicon.ico" />
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png" />

    <!-- Global CSS -->
    <link rel="stylesheet" href="/src/styles/global.css" />

    <!-- OpenGraph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={fullUrl} />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://syedbokhari.com.au/images/og-default.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content="https://syedbokhari.com.au/images/og-default.png" />

    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://syedbokhari.com.au/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "{title}",
            "item": "{fullUrl}"
          }
        ]
      }
    </script>

    <!-- Person + Service Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Person",
            "@id": "https://syedbokhari.com.au/#person",
            "name": "Syed Bokhari",
            "jobTitle": "NDIS Suitable Behaviour Support Practitioner",
            "identifier": "P1636047",
            "url": "https://syedbokhari.com.au",
            "sameAs": ["https://www.linkedin.com/in/syed-fr-bokhari/"],
            "contactPoint": {
              "@type": "ContactPoint",
              "telephone": "+61-411-072-466",
              "contactType": "professional enquiries",
              "email": "syed@syedbokhari.com.au"
            }
          },
          {
            "@type": "ProfessionalService",
            "@id": "https://syedbokhari.com.au/#service",
            "name": "Syed Bokhari Behaviour Support",
            "url": "https://syedbokhari.com.au",
            "provider": { "@id": "https://syedbokhari.com.au/#person" },
            "areaServed": {
              "@type": "City",
              "name": "Melbourne"
            },
            "knowsAbout": [
              "Positive Behaviour Support",
              "Functional Behaviour Assessment",
              "NDIS Restrictive Practices",
              "PBS Plans"
            ]
          }
        ]
      }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8F52E8QTN1"></script>
    <script is:inline>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8F52E8QTN1');
    </script>
  </head>

  <body>
    <div class="bg">
      <!-- HEADER -->
      <header class="site-header">
        <div class="container header-inner">
          <a class="brand" href="/">
            <img src="/images/logo.png" alt="Syed Bokhari logo" width="40" height="40" />
            <span class="brand-text">Syed Bokhari</span>
          </a>

          <nav class="nav" aria-label="Primary Navigation">
            <a href="/services" class={isActive("/services") ? "active" : ""}>Services</a>
            <a href="/about" class={isActive("/about") ? "active" : ""}>About</a>
            <a href="/referrals" class={isActive("/referrals") ? "active" : ""}>Referrals</a>
            <a href="/blog" class={isActive("/blog") ? "active" : ""}>Blog</a>
            <a href="/contact" class={`pill ${isActive("/contact") ? "active" : ""}`}>Contact</a>
          </nav>
        </div>
      </header>

      <!-- MAIN CONTENT -->
      <main class="site-main">
        <slot />
      </main>

      <!-- FOOTER -->
      <footer class="site-footer">
        <div class="container footer-inner">
          <div class="footer-info">
            <div class="kicker">NDIS Practitioner ID: P1636047</div>
            <div class="p footer-description">
              <strong>Suitable Behaviour Support Practitioner</strong><br />
              Regulated by the NDIS Quality and Safeguards Commission. Delivering evidence-based Positive Behaviour Support (PBS) across Melbourne West.
            </div>
          </div>

          <div class="footer-meta">
            <div class="footer-links">
              <a href="https://www.linkedin.com/in/syed-fr-bokhari/" target="_blank">LinkedIn</a>
              <a href="/privacy">Privacy Policy</a>
              <a href="/sitemap">Sitemap</a>
              <a href="/contact">Contact</a>
            </div>
            <p class="copyright">
              Â© {new Date().getFullYear()} Syed Bokhari. All rights reserved.
            </p>
          </div>
        </div>
      </footer>
    </div>

    <style is:global>
      :root {
        --primary: #2563eb;
        --primary-hover: #1d4ed8;
        --text: #0f172a;
        --muted: #64748b;
        --border: #e2e8f0;
        --white: #ffffff;
      }

      /* Active Nav */
      .nav a.active {
        color: var(--primary);
        font-weight: 700;
      }

      /* Background */
      .bg {
        min-height: 100vh;
        background:
          radial-gradient(900px 500px at 15% 10%, rgba(15,23,42,0.06), transparent 60%),
          radial-gradient(900px 500px at 85% 0%, rgba(2,132,199,0.06), transparent 55%),
          url("/images/bg-grid.png");
        background-repeat: no-repeat, no-repeat, repeat;
        background-size: auto, auto, 380px 380px;
      }

      /* Header */
      .site-header {
        position: sticky;
        top: 0;
        z-index: 100;
        backdrop-filter: blur(12px);
        background: rgba(255, 255, 255, 0.85);
        border-bottom: 1px solid var(--border);
      }

      .header-inner {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 0;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        text-decoration: none;
        color: var(--text);
      }

      .brand-text {
        font-weight: 700;
        font-size: 1.25rem;
      }

      .nav {
        display: flex;
        gap: 1.5rem;
      }

      .nav a {
        color: var(--muted);
        font-weight: 600;
        text-decoration: none;
        font-size: 0.95rem;
      }

      .nav a:hover {
        color: var(--primary);
      }

      .nav a.pill {
        padding: 0.5rem 1.25rem;
        border: 1px solid var(--border);
        border-radius: 999px;
        background: var(--white);
      }

      /* Footer */
      .site-footer {
        border-top: 1px solid var(--border);
        padding: 4rem 0 2rem;
        margin-top: 5rem;
        background: rgba(255,255,255,0.5);
      }

      .footer-inner {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 2rem;
      }

      .footer-links {
        display: flex;
        gap: 1.5rem;
      }

      @media (max-width: 768px) {
        .header-inner {
          flex-direction: column;
          gap: 1rem;
        }
        .footer-inner {
          flex-direction: column;
          text-align: center;
        }
      }
    </style>
  </body>
</html>